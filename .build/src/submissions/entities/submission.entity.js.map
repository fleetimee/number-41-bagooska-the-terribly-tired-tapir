{
  "version": 3,
  "sources": ["../../../../src/submissions/entities/submission.entity.ts"],
  "sourcesContent": ["import { CharacterAnalysis } from './../../character_analysis/entities/character_analysis.entity';\nimport { Analysis } from './../../business_analysis/entities/analysis.entity';\nimport { Collateral } from './../../collaterals/entities/collateral.entity';\nimport { NonFixed } from './../../non-fixeds/entities/non-fixed.entity';\nimport { customAlphabet } from 'nanoid';\nimport { User } from 'src/users/entities/user.entity';\nimport {\n  BeforeInsert,\n  Column,\n  Entity,\n  JoinColumn,\n  JoinTable,\n  ManyToMany,\n  ManyToOne,\n  OneToOne,\n  PrimaryGeneratedColumn,\n} from 'typeorm';\nimport { Fixed } from 'src/fixeds/entities/fixed.entity';\n\n@Entity()\nexport class Submission {\n  @PrimaryGeneratedColumn()\n  id: string;\n\n  @Column()\n  no_pengajuan: string;\n\n  @Column('date', { default: () => 'CURRENT_DATE' })\n  tgl_pengajuan: string;\n\n  // Relation\n  @ManyToMany(() => NonFixed, (nonfixed) => nonfixed.submission, {\n    cascade: true,\n  })\n  @JoinTable({\n    name: 'submission_nonfixed_junction',\n  })\n  nonfixed: NonFixed;\n\n  @ManyToMany(() => Fixed, (fixed) => fixed.submission, {\n    cascade: true,\n  })\n  @JoinTable({\n    name: 'submission_fixed_junction',\n  })\n  fixed: Fixed;\n\n  @ManyToOne(() => User, (user) => user, {\n    nullable: false,\n    onDelete: 'CASCADE',\n  })\n  createdBy: User;\n\n  @OneToOne(() => User, (user) => user, { nullable: true })\n  @JoinColumn()\n  updatedBy: User;\n\n  // @OneToMany(() => Upload, (upload) => upload.submission, {})\n  // uploads: Upload[];\n\n  @ManyToOne(() => Collateral, (collateral) => collateral.submission, {\n    cascade: true,\n    onDelete: 'SET NULL',\n  })\n  collateral: Collateral;\n\n  // @OneToMany(\n  //   () => Analysis,\n  //   (business_analysis) => business_analysis.submission,\n  // )\n  // business_analysis: Analysis[];\n\n  @ManyToOne(\n    () => Analysis,\n    (business_analysis) => business_analysis.submission,\n    {\n      cascade: true,\n      onDelete: 'SET NULL',\n    },\n  )\n  business_analysis: Analysis;\n\n  @ManyToOne(\n    () => CharacterAnalysis,\n    (character_analysis) => character_analysis.submission,\n    {\n      cascade: true,\n      onDelete: 'SET NULL',\n    },\n  )\n  character_analysis: CharacterAnalysis;\n\n  @BeforeInsert()\n  generateId() {\n    const nanoid = customAlphabet('1234567890', 10);\n    this.no_pengajuan = nanoid();\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA,gCAAkC;AAClC,sBAAyB;AACzB,wBAA2B;AAC3B,uBAAyB;AACzB,oBAA+B;AAC/B,kBAAqB;AACrB,qBAUO;AACP,mBAAsB;AAGf,uBAAiB;AAAA,EAyEtB,aAAa;AACX,UAAM,SAAS,kCAAe,cAAc;AAC5C,SAAK,eAAe;AAAA;AAAA;AAzEtB;AAAA,EADC;AAAA,GACD,AAFK,WAEL;AAGA;AAAA,EADC;AAAA,GACD,AALK,WAKL;AAGA;AAAA,EADC,2BAAO,QAAQ,EAAE,SAAS,MAAM;AAAA,GACjC,AARK,WAQL;AASA;AAAA,EANC,+BAAW,MAAM,2BAAU,CAAC,aAAa,SAAS,YAAY;AAAA,IAC7D,SAAS;AAAA;AAAA,EAEV,8BAAU;AAAA,IACT,MAAM;AAAA;AAAA,GAER,AAjBK,WAiBL;AAQA;AAAA,EANC,+BAAW,MAAM,oBAAO,CAAC,UAAU,MAAM,YAAY;AAAA,IACpD,SAAS;AAAA;AAAA,EAEV,8BAAU;AAAA,IACT,MAAM;AAAA;AAAA,GAER,AAzBK,WAyBL;AAMA;AAAA,EAJC,8BAAU,MAAM,kBAAM,CAAC,SAAS,MAAM;AAAA,IACrC,UAAU;AAAA,IACV,UAAU;AAAA;AAAA,GAEZ,AA/BK,WA+BL;AAIA;AAAA,EAFC,6BAAS,MAAM,kBAAM,CAAC,SAAS,MAAM,EAAE,UAAU;AAAA,EACjD;AAAA,GACD,AAnCK,WAmCL;AASA;AAAA,EAJC,8BAAU,MAAM,8BAAY,CAAC,eAAe,WAAW,YAAY;AAAA,IAClE,SAAS;AAAA,IACT,UAAU;AAAA;AAAA,GAEZ,AA5CK,WA4CL;AAgBA;AAAA,EARC,8BACC,MAAM,0BACN,CAAC,sBAAsB,kBAAkB,YACzC;AAAA,IACE,SAAS;AAAA,IACT,UAAU;AAAA;AAAA,GAGd,AA5DK,WA4DL;AAUA;AAAA,EARC,8BACC,MAAM,6CACN,CAAC,uBAAuB,mBAAmB,YAC3C;AAAA,IACE,SAAS;AAAA,IACT,UAAU;AAAA;AAAA,GAGd,AAtEK,WAsEL;AAGA;AAAA,EADC;AAAA,GACD,AAzEK,WAyEL;AAzEK;AAAA,EADN;AAAA,GACM;",
  "names": []
}
